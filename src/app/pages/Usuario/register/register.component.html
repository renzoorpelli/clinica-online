<div class="scrollable-col">
<div class="containerOptions">
  <div class="row gy-3">
    <div class="col">
      <button
        (click)="onSelectionChange('especialista')"
        class="btn btn-outline-secondary btnOptions"
      >
        <svg
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 484.336 484.336"
          xml:space="preserve"
          style="width: 50px; height: 50px;"
        >
          <polygon
            style="fill: #acdce2"
            points="304.424,260.073 461.272,313.633 484.336,482.833 249.336,482.833 "
          />
          <polygon
            style="fill: #e2f5f7"
            points="179.912,260.073 23.064,313.633 0,482.833 235,482.833 "
          />
          <polygon
            style="fill: #ceeef2"
            points="153.896,373.057 23.064,313.633 0,482.833 235,482.833 "
          />
          <polygon
            style="fill: #c3e4ea"
            points="426.192,329.585 304.424,261.841 291.832,314.833 192.504,314.833 179.912,262.537
	58.144,330.121 70.736,482.833 187.472,482.833 235,482.833 249.336,482.833 299.064,482.833 413.6,482.833 "
          />
          <polygon
            style="fill: #e2f5f7"
            points="143,266.793 122.664,356.793 183.664,375.793 156.664,439.793 242.168,484.289
	242.168,437.137 "
          />
          <polygon
            style="fill: #ceeef2"
            points="341.352,266.793 361.664,356.793 300.664,375.793 327.672,439.793 242.168,484.289
	242.168,437.137 "
          />
          <path
            style="fill: #e8790a"
            d="M326.256,90.833c0,40.12-30.216,72-67.504,72h-33.168c-37.28,0-67.504-31.88-67.504-72l0,0
	c0-40.136,30.216-72,67.504-72h33.168C296.032,18.833,326.256,50.697,326.256,90.833L326.256,90.833z"
          />
          <polygon
            style="fill: #f9bda0"
            points="302.504,290.833 181.832,290.833 189.88,194.833 294.456,194.833 "
          />
          <polygon
            style="fill: #e28f71"
            points="302.504,290.833 241.976,290.833 181.832,194.833 294.456,194.833 "
          />
          <path
            style="fill: #fcccb9"
            d="M323.648,111.689c0,70.872-35.72,135-81.472,135c-45.768,0-81.472-64.128-81.472-135
	c0-70.88,35.704-82.68,81.472-82.68C287.928,29.009,323.648,40.809,323.648,111.689z"
          />
          <path
            style="fill: #f9bda0"
            d="M242.176,29.009c45.752,0,81.472,11.8,81.472,82.68c0,70.872-35.72,135-81.472,135"
          />
          <polygon
            style="fill: #6b767c"
            points="240.192,434.449 168.08,336.585 142.048,266.793 178.736,251.417 242.176,291.569
	305.6,251.417 342.288,266.793 316.256,336.585 244.144,434.449 242.112,437.905 "
          />
          <polyline
            style="fill: #4e595e"
            points="242.176,291.569 305.6,251.417 342.288,266.793 316.256,336.585 244.144,434.449
	242.112,437.905 240.192,434.449 "
          />
          <polygon
            style="fill: #4e595e"
            points="178.736,251.417 241.976,290.833 168.096,330.681 "
          />
          <polygon
            style="fill: #454f54"
            points="305.6,251.417 241.976,290.833 316.256,330.681 "
          />
          <g>
            <path
              style="fill: #e8790a"
              d="M161.16,100.945c-4.328-1.896-11.472-22.736-7.656-31.424c3.84-8.704,18.456-6.2,22.768-4.296
		c4.344,1.904,7.936,12.784,0.936,19.192"
            />
            <path
              style="fill: #e8790a"
              d="M323.144,100.761c4.344-1.912,11.528-22.744,7.72-31.432c-3.816-8.68-18.408-6.168-22.752-4.256
		c-4.328,1.912-7.952,12.808-0.952,19.192"
            />
            <path
              style="fill: #e8790a"
              d="M254.568,54.801c0,0,15.832,33.16,75.16,34.496c0,0,22.184-64.496-64.488-76.496L254.568,54.801z"
            />
          </g>
          <path
            style="fill: #f98821"
            d="M292.224,37.793c0,0-5,65-135,40c0,0-23-8-20-27c0,0,5,18,18,3c0,0,18.496-56.168,73.504-53.664
	S292.224,37.793,292.224,37.793z"
          />
          <path
            style="fill: #e8790a"
            d="M292.224,37.793c0,0-5,65-135,40c0,0-23-8-20-27c0,0,5,18,18,3"
          />
          <polygon
            style="fill: #23343a"
            points="248.032,290.833 264.584,406.713 242.16,432.705 219.736,406.913 236.32,290.833 "
          />
          <g>
            <polyline
              style="fill: #071519"
              points="235.176,298.833 249.176,298.833 264.584,406.713 242.16,432.705 	"
            />
            <polygon
              style="fill: #071519"
              points="236.568,306.833 233.096,296.905 242.16,290.681 251.224,296.729 247.752,306.833 	"
            />
          </g>
          <path
            style="fill: #ffffff"
            d="M418.568,397.465c0,0.832-0.688,1.504-1.512,1.504h-88.472c-0.832,0-1.504-0.672-1.504-1.504l0,0
	c0-0.832,0.672-1.504,1.504-1.504h88.464C417.88,395.961,418.568,396.633,418.568,397.465L418.568,397.465z"
          />
          <g>
            <path
              style="fill: #4e595e"
              d="M134.168,340.129c-2.2,0-4-1.792-4-4v-74.664c0-24.256,21.752-44,46-44c2.216,0,4.992,1.792,4.992,4
		s-3.272,4-5.496,4c-19.84,0-37.504,16.152-37.504,36v74.664C138.168,338.337,136.384,340.129,134.168,340.129z"
            />
            <path
              style="fill: #4e595e"
              d="M342.168,380.129c2.216,0,4-1.792,4-4V261.465c0-24.256-17.736-44-42-44c-2.2,0-3.008,1.792-3.008,4
		s0.304,4,2.504,4c19.856,0,34.496,16.152,34.496,36v114.664C338.168,378.337,339.968,380.129,342.168,380.129z"
            />
          </g>
          <circle style="fill: #7cb1b5" cx="342.288" cy="383.289" r="9.336" />
          <path
            style="fill: #37a2a5"
            d="M371.624,411.857c0,16.192-13.16,29.344-29.328,29.344c-16.216,0-29.344-13.152-29.344-29.344
	c0-16.176,13.128-29.328,29.344-29.328C358.464,382.529,371.624,395.681,371.624,411.857z"
          />
          <path
            style="fill: #1b8796"
            d="M321.56,391.121c11.424-11.44,30.032-11.44,41.472,0c11.456,11.456,11.44,30.056,0.016,41.488"
          />
          <circle style="fill: #37a2a5" cx="342.296" cy="411.873" r="15.664" />
          <path
            style="fill: #1b8796"
            d="M331.216,422.937c-6.112-6.096-6.112-16.048,0-22.144c6.112-6.128,16.048-6.112,22.16-0.016"
          />
          <g>
            <path
              style="fill: #37a2a5"
              d="M162.168,460.417L162.168,460.417l-8.28-102c0-8.544-7.104-15.504-15.648-15.504
		s-15.784,6.952-15.784,15.504l-8.288,102l0,0v-102c0-12.96,11.048-23.504,24-23.504c12.968,0,24,10.536,24,23.504V460.417z"
            />
            <path
              style="fill: #37a2a5"
              d="M120.832,457.913c0,5.312,1.296,9.624-1.752,9.624c-3.032,0-5.504-4.312-5.504-9.624
		s2.472-9.624,5.504-9.624C122.128,448.289,120.832,452.601,120.832,457.913z"
            />
          </g>
          <ellipse
            style="fill: #1b8796"
            cx="114.568"
            cy="457.913"
            rx="4.168"
            ry="5.664"
          />
          <path
            style="fill: #37a2a5"
            d="M155.36,457.913c0-5.312-1.296-9.624,1.752-9.624c3.032,0,5.504,4.312,5.504,9.624
	s-2.472,9.624-5.504,9.624C154.064,467.537,155.36,463.225,155.36,457.913z"
          />
          <ellipse
            style="fill: #1b8796"
            cx="161.608"
            cy="457.913"
            rx="4.168"
            ry="5.664"
          />
          <g>
            <rect
              x="386.168"
              y="354.833"
              style="fill: #4e595e"
              width="8"
              height="24"
            />
            <rect
              x="378.168"
              y="362.833"
              style="fill: #4e595e"
              width="24"
              height="8"
            />
          </g>
        </svg>
      </button>
    </div>
    <div class="col">
      <button
        (click)="onSelectionChange('paciente')"
        class="btn btn-outline-secondary btnOptions"
        alt="paciente"
      >
      <svg width="50px" height="50px" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--twemoji" preserveAspectRatio="xMidYMid meet"><path fill="#FFAC33" d="M16.906 1.262c-2.02-.654-6.772-.475-7.96 1.069c-3.09.06-6.713 2.852-7.189 6.535c-.47 3.645.578 5.338.951 8.079c.422 3.106 2.168 4.099 3.564 4.515C8.281 24.114 10.415 24 14 24c7 0 10.334-4.684 10.629-12.639c.178-4.812-2.645-8.456-7.723-10.099z"></path><path fill="#FA743E" d="M22 27H4a4 4 0 0 0-4 4v5h26v-5a4 4 0 0 0-4-4z"></path><path fill="#DD551F" d="M21 32h1v4h-1zM4 32h1v4H4z"></path><path fill="#FFDC5D" d="M10 22v6a3 3 0 1 0 6 0v-6h-6z"></path><path fill="#FFDC5D" d="M20.909 11.701c-.677-.938-1.545-1.693-3.446-1.96c.713.327 1.396 1.455 1.485 2.079c.089.624.178 1.129-.386.505c-2.26-2.499-4.722-1.515-7.162-3.041c-1.704-1.067-2.223-2.246-2.223-2.246s-.208 1.574-2.792 3.178c-.749.465-1.643 1.5-2.139 3.03C3.889 14.345 4 15.325 4 17c0 4.889 4.029 9 9 9s9-4.147 9-9c0-3.041-.319-4.229-1.091-5.299z"></path><path fill="#C1694F" d="M17 22H9s1 2 4 2s4-2 4-2z"></path><path fill="#FA743E" d="M29 36h-7l1-17h6z"></path><path fill="#F9CA55" d="M31.541 15.443a1.286 1.286 0 0 0-1.517-.997L27.35 15H25a2 2 0 0 0-2 2v2h5a1.996 1.996 0 0 0 1.992-1.927l.355-.073H31c0-.074-.028-.144-.045-.216c.444-.276.698-.799.586-1.341z"></path><path fill="#FFDC5D" d="M36 16a1 1 0 0 0-1-1l-6 1h-5a1 1 0 0 0-1 1v2h6l6-2s1-.447 1-1z"></path><path fill="#C1694F" d="M14 19.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 0 1z"></path><path fill="#662113" d="M9 16a1 1 0 0 1-1-1v-1a1 1 0 0 1 2 0v1a1 1 0 0 1-1 1zm8 0a1 1 0 0 1-1-1v-1a1 1 0 0 1 2 0v1a1 1 0 0 1-1 1z"></path></svg>
      </button>
    </div>
  </div>
</div>
<ng-container *ngIf="this.isSelected">
      <app-form
        title="Bienvenido nuevo usuario@"
        [form]="registerForm"
        (formSubmitted)="onSubmitEventHandler($event)"
      >
        <div class="row">
          <div class="col">
            <div class="form-group mb-3" [formGroup]="registerForm">
              <label for="nombre" class="lblTitulo">Nombre</label>
              <input
                type="text"
                class="form-control"
                id="nombre"
                formControlName="nombre"
              />
              <ng-container
                *ngIf="
                  this.nombre?.invalid &&
                  (this.nombre?.touched || this.nombre?.dirty)
                "
              >
                <div *ngIf="this.nombre!.errors?.['required']">
                  <div>
                    <label class="text-danger lblMsgError"
                      >El Nombre no puede estar vacio.</label
                    >
                  </div>
                </div>
                <div *ngIf="this.nombre!.errors?.['minlength']">
                  <div>
                    <label class="text-danger lblMsgError"
                      >El nombre no puede tener menos de 10 caracteres.</label
                    >
                  </div>
                </div>
                <div *ngIf="this.nombre!.errors?.['maxlength']">
                  <div>
                    <label class="text-danger lblMsgError"
                      >El nombre no puede tener más de 80 caracteres.</label
                    >
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
          <div class="col">
            <div class="form-group mb-3" [formGroup]="registerForm">
              <label for="apellido" class="lblTitulo">Apellido</label>
              <input
                type="text"
                class="form-control"
                id="apellido"
                formControlName="apellido"
              />
              <ng-container
                *ngIf="
                  this.apellido?.invalid &&
                  (this.apellido?.touched || this.apellido?.dirty)
                "
              >
                <div *ngIf="this.apellido!.errors?.['required']">
                  <div>
                    <label class="text-danger lblMsgError"
                      >El apellido no puede estar vacio.</label
                    >
                  </div>
                </div>
                <div *ngIf="this.apellido!.errors?.['minlength']">
                  <div>
                    <label class="text-danger lblMsgError"
                      >El apellido no puede tener menos de 10 caracteres.</label
                    >
                  </div>
                </div>
                <div *ngIf="this.apellido!.errors?.['maxlength']">
                  <div>
                    <label class="text-danger lblMsgError"
                      >El apellido no puede tener más de 80 caracteres.</label
                    >
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="form-group mb-3" [formGroup]="registerForm">
              <label for="email" class="lblTitulo">Email:</label>
              <input
                type="text"
                class="form-control"
                id="email"
                formControlName="email"
              />
              <ng-container
                *ngIf="
                  this.email?.invalid &&
                  (this.email?.touched || this.email?.dirty)
                "
              >
                <div
                  *ngIf="this.email!.errors?.['required'] || this.email!.errors?.['email']"
                >
                  <label class="text-danger lblMsgError">Email Inválido</label>
                </div>
              </ng-container>
            </div>
          </div>
          <div class="col">
            <div class="form-group mb-3" [formGroup]="registerForm">
              <label for="confirmEmail" class="lblTitulo"
                >Confirmar Email:</label
              >
              <input
                type="text"
                class="form-control"
                id="confirmEmail"
                formControlName="confirmEmail"
              />
              <ng-container
                *ngIf="
                  this.confirmEmail?.invalid &&
                  (this.confirmEmail?.touched || this.confirmEmail?.dirty)
                "
              >
                <div
                  *ngIf="this.confirmEmail!.errors?.['required'] || this.confirmEmail!.errors?.['email']"
                >
                  <label class="text-danger lblMsgError">Email Inválido</label>
                </div>
                <div *ngIf="this.confirmEmail!.errors?.['notEqual']">
                  <label class="text-danger lblMsgError"
                    >Los Emails no coinciden</label
                  >
                </div>
              </ng-container>
            </div>
          </div>
        </div>
        <div class="form-group mb-3" [formGroup]="registerForm">
          <label for="password" class="lblTitulo">Password:</label>
          <input
            type="password"
            id="password"
            class="form-control"
            formControlName="password"
          />
          <ng-container
            *ngIf="
              this.password?.invalid &&
              (this.password?.touched || this.password?.dirty)
            "
          >
            <div
              *ngIf="this.password!.errors?.['required'] || this.password!.errors?.['passowrd']"
            >
              <label class="text-danger lblMsgError"
                >Password no puede estar vacio</label
              >
            </div>
          </ng-container>
        </div>
        <div class="row">
          <div class="col">
            <div class="form-group mb-3" [formGroup]="registerForm">
              <label for="dni" class="lblTitulo">DNI</label>
              <input
                type="text"
                class="form-control"
                id="dni"
                formControlName="dni"
              />
              <ng-container
                *ngIf="
                  this.dni?.invalid && (this.dni?.touched || this.dni?.dirty)
                "
              >
                <div *ngIf="this.dni!.errors?.['required']">
                  <label class="text-danger lblMsgError">DNI Inválido</label>
                </div>
                <div *ngIf="this.dni!.errors?.['minlength']">
                  <label class="text-danger lblMsgError"
                    >DNI debe tener 8 caracteres ej: xx.xxx.xxx</label
                  >
                </div>
                <div *ngIf="this.dni!.errors?.['maxlength']">
                  <label class="text-danger lblMsgError"
                    >DNI debe tener 8 caracteres ej: xx.xxx.xxx</label
                  >
                </div>
              </ng-container>
            </div>
          </div>
          <div class="col">
            <div class="form-group mb-3" [formGroup]="registerForm">
              <label for="dni" class="lblTitulo">Edad</label>
              <input
                type="number"
                class="form-control"
                id="edad"
                formControlName="edad"
              />
              <ng-container
                *ngIf="
                  this.edad?.invalid && (this.edad?.touched || this.edad?.dirty)
                "
              >
                <div *ngIf="this.dni!.errors?.['required']">
                  <label class="text-danger lblMsgError">Edad Inválido</label>
                </div>
                <div *ngIf="this.dni!.errors?.['min']">
                  <label class="text-danger lblMsgError"
                    >La edad de debe ser positiva</label
                  >
                </div>
                <div *ngIf="this.dni!.errors?.['max']">
                  <label class="text-danger lblMsgError"
                    >Ingresa una edad valida</label
                  >
                </div>
              </ng-container>
            </div>
          </div>
        </div>
        <!-- <div class="form-group mb-3">
          <label for="queSoy" class="lblTitulo">Soy?</label>
          <div>
            <select
              id="queSoy"
              [(ngModel)]="typeOfPerson"
              class="form-control"
              (change)="onSelectionChange()"
            >
              <option value="especialista" disabled selected>
                Selecciona una opción
              </option>
              <option value="especialista">Especialista</option>
              <option value="paciente">Paciente</option>
            </select>
          </div>
        </div> -->
        <!-- <div class="form-group mb-3" [formGroup]="registerForm">
          <label for="profileImage1" class="lblTitulo">Imagen de perfil</label>
          <input
            type="text"
            class="form-control"
            id="profileImage1"
            formControlName="profileImage1"
            placeholder="Ingresa la url de la imagen de perfil"
          />
          <ng-container
            *ngIf="
              this.profileImage1?.invalid &&
              (this.profileImage1?.touched || this.profileImage1?.dirty)
            "
          >
            <div *ngIf="this.profileImage1!.errors?.['required']">
              <label class="text-danger lblMsgError">Imagen Inválido</label>
            </div>
          </ng-container>
        </div> -->
        <div class="form-group mb-3">
          <label for="profileImage1" class="lblTitulo">Selecciona la foto de perfil</label>
          <input (change)="uploadImage($event)" type="file" class="form-control" id="profileImage1" placeholder="..." required>
        </div>
        <ng-container *ngIf="this.isPatient">
          <div class="row">
            <div class="col">
              <!-- <div class="form-group mb-3" [formGroup]="registerForm">
                <label for="profileImage2" class="lblTitulo"
                  >Imagen de perfil dos</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="profileImage2"
                  formControlName="profileImage2"
                />
                <ng-container
                  *ngIf="
                    this.profileImage2?.invalid &&
                    (this.profileImage2?.touched || this.profileImage2?.dirty)
                  "
                >
                  <div *ngIf="this.profileImage2!.errors?.['required']">
                    <label class="text-danger lblMsgError"
                      >Imagen Inválido</label
                    >
                  </div>
                </ng-container>
              </div> -->
              <div class="form-group mb-3">
                <label for="profileImage2" class="lblTitulo">Selecciona la segunda foto de perfil</label>
                <input (change)="uploadImage($event)" type="file" class="form-control" id="profileImage2" placeholder="..." required>
              </div>
            </div>
            <div class="col">
              <div class="form-group mb-3" [formGroup]="registerForm">
                <label for="obraSocial" class="lblTitulo">Obra Social</label>
                <input
                  type="text"
                  class="form-control"
                  id="obraSocial"
                  formControlName="obraSocial"
                />
                <ng-container
                  *ngIf="
                    this.obraSocial?.invalid &&
                    (this.obraSocial?.touched || this.obraSocial?.dirty)
                  "
                >
                  <div *ngIf="this.obraSocial!.errors?.['required']">
                    <label class="text-danger lblMsgError"
                      >Obra Social InválidA</label
                    >
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </ng-container>
        <ng-container *ngIf="this.isDoctor">
          <div class="row">
            <div class="col-12">
              <div class="d-flex align-items-center">
                <p
                  (click)="deleteSpeciality(specialty)"
                  class="specialty"
                  *ngFor="let specialty of selectedSpecialties"
                >
                  {{ specialty }}
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-x"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                    ></path>
                  </svg>
                </p>
              </div>
            </div>
          </div>
          <div class="col-9 input-group addSpeciality">
            <label for="specialty" class="form-label"></label>
            <input
              [(ngModel)]="newSpeciality"
              [ngModelOptions]="{ standalone: true }"
              type="text"
              class="form-control"
              id="specialty"
              placeholder="Agregar Especialidades"
            />

            <button
              type="button"
              class="btn-outline-secondary"
              (click)="addSpeciality()"
              [disabled]="!this.newSpeciality"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-plus-circle"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                ></path>
                <path
                  d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"
                ></path>
              </svg>
            </button>
          </div>
        </ng-container>
        <div class="captchaContainer">
          <div style="display: flex; align-items: center;">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/RecaptchaLogo.svg/800px-RecaptchaLogo.svg.png" alt="Captcha Image" style="width: 50px; height: 50px;">
            <p class="lead" style="margin-left: 10px;" appCaptchaValidator>{{this.num1}} + {{this.num2}}</p>
          </div>
          <input type="text" pattern="[0-9]*" placeholder="Ingresa tu respuesta" class="form-control mt-3"
          [(ngModel)]="resultOfCaptchaFromUser"  [ngModelOptions]="{standalone:true}" (blur)="validateCaptcha()">
        </div>
        <div class="btnContainer">
          <ng-container  *ngIf="!this.captchaValid">
            <button class="btn btn-outline-secondary mx-1" type="submit" appCaptchaValidator [resultOfOperation]="this.captchaValid">
              Registrarse
            </button>
          </ng-container>
          <ng-container  *ngIf="this.captchaValid">
            <button class="btn btn-outline-secondary mx-1" type="submit" appCaptchaValidator [resultOfOperation]="this.captchaValid">
              Registrarse
            </button>
          </ng-container>
        </div>
      </app-form>
  </ng-container>
</div>
